<!DOCTYPE html>
<html>
<head>
  <title>Alarm</title>
</head>


<style>

#Hours,#Minutes,option{border-radius:999px;padding:4px;width:300px;margin:5px;direction:rtl}#Hours,#Minutes,.save,option{outline:0;font-weight:700}#Hours,#Minutes,.save,.total,option{font-weight:700}#Hours,#Minutes,#play,.save{background:#ffffff1a;backdrop-filter:blur(20px);cursor:pointer}#Hours,#Minutes,#play,.container{text-align:center}#play,.save,option{cursor:pointer}body{background-image:linear-gradient(180deg,#921ac1 ,#c08217);font-family:Arial,Helvetica,sans-serif;height:100vh;overflow:hidden;padding:0;margin:0}.container{padding-top:30px}#Hours,#Minutes{color:#fff;border:4px solid #ffffff1a;font-size:16px}option{background:rgba(0,0,0,.1);color:#444;border:1px solid #fff;font-size:15px}.total{color:#fff;font-size:25px}.save{color:#fff;border-radius:999px;padding:5px;border:3px solid transparent;width:410px;font-size:20px;margin:30px 5px 10px;box-shadow:0 0 7px #fff}.save:hover{box-shadow:0 0 30px #fff}#play{width:100%;height:calc(100vh + 100px);position:absolute;top:0;display:none;z-index:10;margin:auto}

</style>
<body>

<div id="play" onclick="clo(this)" title="إضغط لإغلاق المنبه" style="text-align:center;margin:auto"><center><img src="./alarm.gif" style="text-align:center;min-width:20%;height:300px;border-radius:999px;margin:100px auto auto auto"></center><audio loop controls autoplay style="opacity:0" id="myAudio"><source src="alarm.mp3" type="audio/mp3">Your browser does not support the audio element.</audio></div><div class="container"><div style="margin:auto"><iframe src="./canvas.html" width="100%" height="300px" scrolling="no" style="border:none"></iframe></div><form style="display:flex;justify-content:center;margin-top:20px"><label for="Minutes"></label><select name="Minutes" id="Minutes" onchange="minutes(this.value)"><option value="0" disabled="disabled" selected="selected">اختر الدقيقة :</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option><option value="32">32</option><option value="33">33</option><option value="34">34</option><option value="35">35</option><option value="36">36</option><option value="37">37</option><option value="38">38</option><option value="39">39</option><option value="40">40</option><option value="41">41</option><option value="42">42</option><option value="43">43</option><option value="44">44</option><option value="45">45</option><option value="46">46</option><option value="47">47</option><option value="48">48</option><option value="49">49</option><option value="50">50</option><option value="51">51</option><option value="52">52</option><option value="53">53</option><option value="54">54</option><option value="55">55</option><option value="56">56</option><option value="57">57</option><option value="58">58</option><option value="59">59</option><option value="60">60</option></select><br><br><label for="Hours"></label><select name="Hours" id="Hours" onchange="hours(this.value)"><option value="0" disabled="disabled" selected="selected">اختر الساعة :</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option></select><br><br></form><button onclick="save()" class="save">ظبط المنبه</button><p class="total" id="total"></p></div>



<script>
  function hours(e) {
      var t = new Date,
          n = t.getHours(),
          l = t.getMinutes();
      t.getSeconds();
      var u = document.getElementById("Minutes").value;
      if (e <= n  && u < l) return document.getElementById("total").innerHTML = n  + ":" + l + " يجب ظبط المنبه ليعمل بعد الوقت الحالي";
      res();
      var t = new Date,
          n = t.getHours(),
          l = t.getMinutes();
      t.getSeconds();
      var r = document.getElementById("Hours").value,
          u = document.getElementById("Minutes").value,
          s = Math.abs(n  - r),
          a = Math.abs(Math.abs(u) + Math.abs(60 - l));
      if (0 == u || 0 == r) return document.getElementById("total").innerHTML = "يرجى إختيار الساعة والدقيقة";
      if (0 == s && u <= l) return document.getElementById("total").innerHTML = n  + ":" + l + " يجب ظبط المنبه ليعمل بعد الوقت الحالي";
      if (0 == s && u > l) return document.getElementById("total").innerHTML = " تم ظبط المنبه ليعمل بعد  0 من الساعات وبعد   " + Math.abs(u - l) + " من الدقائق";
      if (r < n ) return document.getElementById("total").innerHTML = n - 1 + ":" + l + " يجب ظبط المنبه ليعمل بعد الوقت الحالي";
      else if (u >= 1 && s >= 1) return a >= 60 ? document.getElementById("total").innerHTML = ` تم ظبط المنبه ليعمل بعد  ${s} من الساعات وبعد   ${a-60} من الدقائق` : document.getElementById("total").innerHTML = ` تم ظبط المنبه ليعمل بعد  ${s-1} من الساعات وبعد   ` + a + " من الدقائق"
  }

  function minutes(e) {
      var t = document.getElementById("Hours").value,
          n = new Date,
          l = n.getHours(),
          u = n.getMinutes();
      if (n.getSeconds(), e < u && t <= l - 1) return document.getElementById("minutes_value").innerHTML = 0, document.getElementById("total").innerHTML = l - 1 + ":" + u + " يجب ظبط المنبه ليعمل بعد الوقت الحالي";
      var n = new Date,
          l = n.getHours(),
          u = n.getMinutes();
      n.getSeconds();
      var t = document.getElementById("Hours").value,
          r = document.getElementById("Minutes").value;
      document.getElementById("minutes_value").innerHTML = e, document.getElementById("minutes_value").innerHTML = r
  }

  function start() {
      var e = new Date;
      e.getHours(), e.getMinutes(), e.getSeconds(), document.getElementById("Hours").value, document.getElementById("Minutes").value, document.getElementById("total").innerHTML = hours()
  }

  function res() {
      var e = new Date,
          t = e.getHours(),
          n = e.getMinutes();
      e.getSeconds();
      var l = document.getElementById("Hours").value,
          u = document.getElementById("Minutes").value;
      result = (60 * Math.abs(t - 1 - l) + 1 * Math.abs(n - u)) * 6e4, u == n && l == t - 1 && alarm()
  }

  function alarm() {
      document.getElementById("play").style.display = "block", document.getElementById("myAudio").play()
  }

  function clo(e) {
      e.style.display = "none", document.getElementById("myAudio").pause(), document.getElementById("Hours").value = 0, document.getElementById("Minutes").value = 0
  }

  function save() {
      setInterval(start, 1e3)
  }
</script>




</body>

</html>
